<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"
          controllerName="glw.controller.ProductCategoriesList"
          displayBlock="true">
    <Page title="{i18n>appTitle}" showNavButton="true" navButtonPress=".onNavBack"
          class="sapUiResponsiveContentPadding">
        <Table
                id ="productCategoryTable"
				noDataText="Keine Produkte gefunden"
                mode="Delete"
                delete=".onDeleteProductCategoryPress"
                items="{path: 'productCategories>/rows', sorter: [{path: 'value/productGroup'}, {path: 'value/name'}]}">
            <headerToolbar>
                <Toolbar>
                    <Title text="Produkte ({productCategories>/total_rows})" level="H2" width="7rem"/>
                    <ToolbarSpacer/>
					<SearchField id="searchField" liveChange=".onSearchProductCategory" search=".onSearchProductCategory"/>
                    <Button icon="sap-icon://add" tooltip="Produkt anlegen" press="onOpenAddProductDialogPress"/>
                </Toolbar>
            </headerToolbar>
            <columns>
                <Column
                        width="12em">
                    <Text text="Produkt"/>
                </Column>
                <Column
                        minScreenWidth="Tablet"
                        demandPopin="true">
                    <Text text="Produktgruppe"/>
                </Column>
                <Column
                        minScreenWidth="Tablet"
                        demandPopin="true">
                    <Text text="Volumen"/>
                </Column>

            </columns>
            <items>
                <ColumnListItem>
                    <cells>
                        <Text text="{productCategories>value/name}"/>
                        <Text text="{parts: ['productCategories>value/productGroup', 'validValues>/productGroups'], formatter: '.formatter.formatValidValue'}"/>
                        <ObjectNumber
                                number="{productCategories>value/volume}"
                                numberUnit="{= ${productCategories>value/volume} ? 'Liter' : ''}" />
                    </cells>
                </ColumnListItem>

            </items>
        </Table>

    </Page>
</mvc:View>
